<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ShadowDrop — Temporary File & Text Sharing</title>
  <meta name="description" content="Secure, one-time, auto-deleting file and text sharing. Because some things shouldn't stick around." />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/css/style.css" />
</head>
<body>
  
  <div class="background-effects">
    <div class="blob blob-1"></div>
    <div class="blob blob-2"></div>
    <div class="blob blob-3"></div>
    <div class="noise-overlay"></div>
  </div>

  <div class="app-layout">
    <!-- ───── Header ───── -->
    <header class="header">
      <div class="logo-container">
        <div class="logo-icon-wrapper">
          <svg class="logo-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
            <polyline points="7 10 12 15 17 10"/>
            <line x1="12" y1="15" x2="12" y2="3"/>
          </svg>
        </div>
        <h1 class="logo-text">ShadowDrop</h1>
      </div>
      <p class="tagline">Disappearing secrets. Auto-deletes in 5 minutes.</p>
    </header>

    <!-- ───── Main Content ───── -->
    <main class="main-container">
      
      <!-- Tab Nav -->
      <nav class="tabs-nav" role="tablist">
        <div class="tab-indicator" id="tabIndicator"></div>
        <button class="tab-btn active" data-tab="text" role="tab" aria-selected="true" id="tab-text">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
          Text
        </button>
        <button class="tab-btn" data-tab="file" role="tab" aria-selected="false" id="tab-file">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
          File
        </button>
        <button class="tab-btn" data-tab="retrieve" role="tab" aria-selected="false" id="tab-retrieve">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
          Retrieve
        </button>
      </nav>

      <div class="panels-wrapper">
        <!-- ===== Text Panel ===== -->
        <section class="panel active" id="panel-text" role="tabpanel" aria-labelledby="tab-text">
          <div class="glass-card">
            <div class="card-header">
              <h2>Share Text</h2>
              <p>End-to-end encrypted snippets. Copy your code and share.</p>
            </div>
            <div class="input-wrapper text-input-wrapper">
              <textarea id="textInput" placeholder="Enter your sensitive data, API keys, or secret messages..." maxlength="50000"></textarea>
              <div class="char-count"><span id="charCount" class="mono">0</span> <span class="muted">/ 50,000</span></div>
            </div>
            <button class="action-btn primary-btn create-btn" id="btnShareText">
              <span>Create Drop</span>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
            </button>
          </div>
        </section>

        <!-- ===== File Panel ===== -->
        <section class="panel" id="panel-file" role="tabpanel" aria-labelledby="tab-file">
          <div class="glass-card">
            <div class="card-header">
              <h2>Secure File Upload</h2>
              <p>Max 10MB. Files are completely wiped from our servers after download.</p>
            </div>
            <div class="dropzone" id="dropzone">
              <div class="dropzone-content">
                <div class="upload-icon-pulse">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                </div>
                <h3>Drag & Drop</h3>
                <p>or <span class="highlight">browse files</span> to upload</p>
              </div>
              <input type="file" id="fileInput" hidden />
            </div>
            <div class="file-info hidden" id="fileInfo">
              <div class="file-details">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>
                <div class="file-meta">
                  <span id="fileName" class="fw-medium"></span>
                  <span id="fileSize" class="mono muted"></span>
                </div>
              </div>
              <button class="icon-btn remove-file-btn" id="btnClearFile" aria-label="Remove file">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
              </button>
            </div>
            <button class="action-btn primary-btn create-btn" id="btnShareFile" disabled>
              <span>Upload & Encrypt</span>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
            </button>
          </div>
        </section>

        <!-- ===== Retrieve Panel ===== -->
        <section class="panel" id="panel-retrieve" role="tabpanel" aria-labelledby="tab-retrieve">
          <div class="glass-card">
            <div class="card-header">
              <h2>Access Drop</h2>
              <p>Enter your 6-digit access code to retrieve shared data.</p>
            </div>
            <div class="input-wrapper code-input-container">
              <input type="text" id="codeInput" class="pin-input mono" maxlength="6" placeholder="• • • • • •" inputmode="numeric" pattern="\d{6}" autocomplete="off" />
              <div class="input-focus-border"></div>
            </div>
            <button class="action-btn primary-btn" id="btnRetrieve" disabled>
              <span>Decrypt & View</span>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
            </button>
          </div>
        </section>
      </div>

      <!-- ===== Result Overlay ===== -->
      <div class="overlay hidden" id="resultOverlay">
        <div class="overlay-backdrop"></div>
        <div class="result-modal glass-card" id="resultCard">
          <!-- dynamically filled -->
        </div>
      </div>
    </main>

    <!-- ───── Footer ───── -->
    <footer class="footer">
      <div class="footer-content">
        <p>ShadowDrop &copy; 2026. Data is ephemeral. Security is absolute.</p>
      </div>
    </footer>
  </div>

  <!-- ───── Toast Notifications ───── -->
  <div class="toast-board" id="toastContainer"></div>

  <script src="/js/app.js"></script>
</body>
</html>
